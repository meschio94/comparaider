{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}


{% block content %}

    <div id="plant" class="section  product">
        <div class="container">
            <div class="row justify-content-center">

                <div class="col-lg-6">


                    <div class="col text-center">

                        <form method="post" action="." enctype="multipart/form-data">
                            {% csrf_token %}

                            {{ edit_glider_form|crispy }}

                            <div class="field">
                                <div class="control">
                                    <button class="button is-dark is-uppercase">Submit</button>
                                </div>
                            </div>
                        </form>

                    </div>
                </div>
            </div>
        </div>
    </div>


    <div id="plant" class="section  product">
        <div class="container">
            <div class="row justify-content-center">

                <div class="col-lg-15">

                    <table class="table table-striped">
                        <thead>
                        <tr>
                            <th scope="col"></th>
                            <a href="{% url 'showcase:add_size' glider.id %}" class="btn btn-primary">Add Size</a>
                            {% for size in glider.glider_size.all %}
                                <th scope="col">
                                    <a href="{% url 'showcase:edit_size' glider.id size.id %}" class="btn btn-primary">Edit</a>
                                </th>


                            {% endfor %}
                        </tr>

                        <tr>
                            <th scope="col"></th>
                            {% for size in glider.glider_size.all %}
                                <th scope="col">
                                    <form method="POST" action="{% url "showcase:remove_size" %}">
                                        {% csrf_token %}
                                        <input type="hidden" name="gliderPk" value="{{ glider.pk }}"/>
                                        <input type="hidden" name="gliderId" value="{{ glider.id }}"/>
                                        <input type="hidden" name="sizeId" value="{{ size.id }}"/>
                                        <input class="btn btn-dangercustom" type="submit" value="Remove">
                                    </form>
                                </th>


                            {% endfor %}
                        </tr>



                        <tr>
                            <th scope="col">Size</th>
                            {% for size in glider.glider_size.all %}
                                <th scope="col">{{ size.size }}</th>
                            {% endfor %}
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <th scope="row">Certification</th>
                            {% for size in glider.glider_size.all %}
                                <th scope="col">{{ size.certification }}</th>
                            {% endfor %}
                        </tr>
                        <tr>
                            <th scope="row">Takeoff Weight</th>
                            {% for size in glider.glider_size.all %}
                                <th scope="col">{{ size.takeoffWeightMin }}-{{ size.takeoffWeightMax }}</th>
                            {% endfor %}
                        </tr>
                        <tr>
                            <th scope="row">Cells</th>
                            {% for size in glider.glider_size.all %}
                                <th scope="col">{{ size.cells }}</th>
                            {% endfor %}
                        </tr>
                        <tr>
                            <th scope="row">Glider Weight</th>
                            {% for size in glider.glider_size.all %}
                                <th scope="col">{{ size.gliderWeight }}</th>
                            {% endfor %}
                        </tr>
                        </tbody>
                    </table>

                </div>
            </div>
        </div>
    </div>

{% endblock %}

{% load static %}